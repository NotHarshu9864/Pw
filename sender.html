<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Playlist Player</title>  <!-- YouTube IFrame API -->  <script src="https://www.youtube.com/iframe_api"></script>  <style>
    :root {
      --bg: #0b0f14;
      --card: #121826;
      --accent: #00e5ff;
      --text: #e5e7eb;
      --muted: #9ca3af;
    }

    * { box-sizing: border-box; font-family: Inter, system-ui, sans-serif; }
    body {
      margin: 0;
      background: radial-gradient(circle at top, #101827, #05070c);
      color: var(--text);
    }

    h1 {
      text-align: center;
      margin: 24px 0;
      font-weight: 600;
      letter-spacing: 0.5px;
    }

    .container {
      max-width: 1200px;
      margin: auto;
      padding: 16px;
    }

    /* Playlist cards */
    .playlist-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 20px;
    }

    .playlist-card {
      background: linear-gradient(180deg, #151c2f, #0e1423);
      border-radius: 16px;
      padding: 16px;
      box-shadow: 0 10px 30px rgba(0,0,0,.4);
      cursor: pointer;
      transition: transform .25s ease, box-shadow .25s ease;
    }

    .playlist-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 20px 40px rgba(0,0,0,.6);
    }

    .playlist-title {
      font-size: 1.1rem;
      margin-bottom: 8px;
    }

    .playlist-count {
      color: var(--muted);
      font-size: .9rem;
    }

    /* Player section */
    .player-wrapper {
      margin-top: 32px;
      display: none;
      gap: 24px;
    }

    .player-wrapper.active {
      display: grid;
      grid-template-columns: 2fr 1fr;
    }

    .video-box {
      background: #000;
      border-radius: 16px;
      overflow: hidden;
      position: relative;
      aspect-ratio: 16/9;
    }

    /* Thumbnail overlay */
    .thumb-overlay {
      position: absolute;
      inset: 0;
      background-size: cover;
      background-position: center;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }

    .thumb-overlay::after {
      content: 'â–¶';
      font-size: 64px;
      color: white;
      background: rgba(0,0,0,.5);
      width: 90px;
      height: 90px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .song-list {
      background: var(--card);
      border-radius: 16px;
      padding: 12px;
      max-height: 360px;
      overflow-y: auto;
    }

    .song {
      padding: 10px 12px;
      border-radius: 10px;
      cursor: pointer;
      color: var(--muted);
      transition: background .2s, color .2s;
    }

    .song:hover { background: #1a2238; color: var(--text); }
    .song.active { background: var(--accent); color: #000; font-weight: 500; }

    @media (max-width: 900px) {
      .player-wrapper.active {
        grid-template-columns: 1fr;
      }
    }
  </style></head>
<body><h1>ðŸŽµ Playlist Player</h1><div class="container">
  <div id="playlistGrid" class="playlist-grid"></div>  <div id="playerSection" class="player-wrapper">
    <div class="video-box">
      <div id="player"></div>
      <div id="thumb" class="thumb-overlay"></div>
    </div><div id="songList" class="song-list"></div>

  </div>
</div><script>
/* ---------------- JSON DATA ---------------- */
const data = {
  "playlists": [
    {
      "title": "Chill Vibes",
      "songs": [
        { "title": "Song One", "videoId": "dQw4w9WgXcQ" },
        { "title": "Song Two", "videoId": "3tmd-ClpJxA" }
      ]
    },
    {
      "title": "Workout",
      "songs": [
        { "title": "Energy Boost", "videoId": "fLexgOxsZu0" },
        { "title": "Run Fast", "videoId": "kXYiU_JCYtU" }
      ]
    }
  ]
};

/* ---------------- STATE ---------------- */
let player;
let currentPlaylist = [];
let currentIndex = 0;
let playerReady = false;

/* ---------------- INIT UI ---------------- */
const grid = document.getElementById('playlistGrid');
const playerSection = document.getElementById('playerSection');
const songList = document.getElementById('songList');
const thumb = document.getElementById('thumb');

function renderPlaylists() {
  data.playlists.forEach((pl, index) => {
    const card = document.createElement('div');
    card.className = 'playlist-card';
    card.innerHTML = `
      <div class="playlist-title">${pl.title}</div>
      <div class="playlist-count">${pl.songs.length} songs</div>
    `;
    card.onclick = () => openPlaylist(index);
    grid.appendChild(card);
  });
}

function openPlaylist(index) {
  currentPlaylist = data.playlists[index].songs;
  currentIndex = 0;
  renderSongs();
  loadSong(0, false);
  playerSection.classList.add('active');
}

function renderSongs() {
  songList.innerHTML = '';
  currentPlaylist.forEach((song, i) => {
    const div = document.createElement('div');
    div.className = 'song';
    div.textContent = song.title;
    div.onclick = () => loadSong(i, true);
    songList.appendChild(div);
  });
}

function highlightSong() {
  [...songList.children].forEach((el, i) => {
    el.classList.toggle('active', i === currentIndex);
  });
}

/* ---------------- PLAYER ---------------- */
function onYouTubeIframeAPIReady() {
  player = new YT.Player('player', {
    height: '100%',
    width: '100%',
    videoId: '',
    playerVars: { controls: 1, rel: 0 },
    events: {
      onReady: () => playerReady = true,
      onStateChange: onPlayerStateChange
    }
  });
}

function loadSong(index, autoplay) {
  currentIndex = index;
  const videoId = currentPlaylist[index].videoId;

  thumb.style.backgroundImage = `url(https://img.youtube.com/vi/${videoId}/hqdefault.jpg)`;
  thumb.style.display = 'flex';

  if (playerReady) {
    player.loadVideoById(videoId);
    if (!autoplay) player.pauseVideo();
  }

  highlightSong();
}

thumb.onclick = () => {
  thumb.style.display = 'none';
  player.playVideo();
};

function onPlayerStateChange(e) {
  if (e.data === YT.PlayerState.ENDED) {
    const next = currentIndex + 1;
    if (next < currentPlaylist.length) {
      loadSong(next, true);
      thumb.style.display = 'none';
    }
  }
}

renderPlaylists();
</script></body>
</html>